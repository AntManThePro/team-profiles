
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Profile Builder</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #1a1a1a; color: #f0f0f0; }
        .container { max-width: 800px; }
        .card { background-color: #2a2a2a; border: 1px solid #444; }
        .list-group-item { background-color: #2a2a2a; border: 1px solid #444; color: #f0f0f0; }
        .list-group-item-action:hover { background-color: #3a3a3a; }
        .form-control { background-color: #333; color: #f0f0f0; border-color: #555; }
        .form-control:focus { background-color: #333; color: #f0f0f0; border-color: #0d6efd; box-shadow: none; }
        .form-label { color: #ccc; }
        .btn-primary { background-color: #0d6efd; border-color: #0d6efd; }
        .btn-link, .btn-secondary { color: #ccc; }
        h2, h5 { color: #fff; }
        #listView, #formView, #deleteModal { display: none; } 
    </style>
</head>
<body>
    <div class="container mt-5">

        <!-- List View -->
        <div id="listView">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Team Members</h2>
                <button class="btn btn-primary" id="addProfileBtn">+ Add New Profile</button>
            </div>
            <div id="profilesContainer" class="list-group"></div>
        </div>

        <!-- Form View -->
        <div id="formView">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <button class="btn btn-link" id="backToListBtn">‚Üê Back to List</button>
                <h2 id="formTitle">Add New Profile</h2>
                <div></div>
            </div>
            <form id="profileForm">
                <input type="hidden" id="profileId">
                <div class="card mb-3">
                    <div class="card-header">Basic Information</div>
                    <div class="card-body">
                        <div class="mb-3"><label class="form-label">Name</label><input type="text" id="name" class="form-control" required></div>
                        <div class="mb-3"><label class="form-label">Role/Title</label><input type="text" id="role" class="form-control"></div>
                    </div>
                </div>
                <div class="card mb-3">
                    <div class="card-header">Work Preferences</div>
                    <div class="card-body">
                         <div class="mb-3"><label class="form-label">Key Responsibilities</label><textarea id="responsibilities" class="form-control"></textarea></div>
                         <div class="mb-3"><label class="form-label">Strengths</label><textarea id="strengths" class="form-control"></textarea></div>
                    </div>
                </div>
                <div class="d-flex justify-content-end gap-2">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
                    <button type="submit" class="btn btn-success">Save Profile</button>
                </div>
            </form>
        </div>

        <!-- Delete Confirmation Modal -->
        <div id="deleteModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center;">
            <div class="card" style="width: 400px;">
                <div class="card-body">
                    <h5 class="card-title">Confirm Delete</h5>
                    <p>Are you sure you want to delete this profile? This action cannot be undone.</p>
                    <div class="d-flex justify-content-end gap-2">
                        <button class="btn btn-secondary" id="cancelDeleteBtn">Cancel</button>
                        <button class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const listView = document.getElementById('listView');
            const formView = document.getElementById('formView');
            const deleteModal = document.getElementById('deleteModal');
            
            const addProfileBtn = document.getElementById('addProfileBtn');
            const backToListBtn = document.getElementById('backToListBtn');
            const profileForm = document.getElementById('profileForm');
            const cancelBtn = document.getElementById('cancelBtn');
            const profilesContainer = document.getElementById('profilesContainer');
            const formTitle = document.getElementById('formTitle');
            const profileIdInput = document.getElementById('profileId');

            const cancelDeleteBtn = document.getElementById('cancelDeleteBtn');
            const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');
            let profileToDelete = null;

            const showListView = () => {
                listView.style.display = 'block';
                formView.style.display = 'none';
                deleteModal.style.display = 'none';
                loadProfiles();
            };

            const showFormView = (profile = null) => {
                listView.style.display = 'none';
                formView.style.display = 'block';
                profileForm.reset();
                profileIdInput.value = '';

                if (profile) {
                    formTitle.textContent = 'Edit Profile';
                    document.getElementById('name').value = profile.name;
                    document.getElementById('role').value = profile.role;
                    document.getElementById('responsibilities').value = profile.responsibilities;
                    document.getElementById('strengths').value = profile.strengths;
                    profileIdInput.value = profile.id;
                } else {
                    formTitle.textContent = 'Add New Profile';
                }
            };

            const getProfiles = () => JSON.parse(localStorage.getItem('teamProfiles') || '[]');
            const saveProfiles = (profiles) => localStorage.setItem('teamProfiles', JSON.stringify(profiles));

            const loadProfiles = () => {
                profilesContainer.innerHTML = '';
                const profiles = getProfiles();
                if (profiles.length === 0) {
                    profilesContainer.innerHTML = '<div class="text-center text-muted p-4">No profiles yet. Add one to get started!</div>';
                    return;
                }
                profiles.forEach(p => {
                    const profileElement = document.createElement('div');
                    profileElement.className = 'list-group-item list-group-item-action';
                    profileElement.innerHTML = `
                        <div class="d-flex w-100 justify-content-between">
                            <h5 class="mb-1">${p.name || "No Name"}</h5>
                            <small class="text-muted">ID: ${p.id.substring(0,8)}</small>
                        </div>
                        <p class="mb-1 text-muted">${p.role || "No Role"}</p>
                        <div class="mt-2">
                            <button class="btn btn-sm btn-outline-secondary edit-btn" data-id="${p.id}">Edit</button>
                            <button class="btn btn-sm btn-outline-danger delete-btn" data-id="${p.id}">Delete</button>
                        </div>
                    `;
                    profilesContainer.appendChild(profileElement);
                });
            };
            
            profileForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const profiles = getProfiles();
                const profileData = {
                    name: document.getElementById('name').value,
                    role: document.getElementById('role').value,
                    responsibilities: document.getElementById('responsibilities').value,
                    strengths: document.getElementById('strengths').value,
                };

                const existingId = profileIdInput.value;
                if (existingId) {
                    const index = profiles.findIndex(p => p.id === existingId);
                    if (index !== -1) {
                        profiles[index] = { ...profiles[index], ...profileData };
                    }
                } else {
                    profileData.id = Date.now().toString(); // Simple unique ID
                    profiles.push(profileData);
                }

                saveProfiles(profiles);
                showListView();
            });

            profilesContainer.addEventListener('click', (e) => {
                const id = e.target.getAttribute('data-id');
                if (e.target.classList.contains('edit-btn')) {
                    const profile = getProfiles().find(p => p.id === id);
                    if (profile) showFormView(profile);
                }
                if (e.target.classList.contains('delete-btn')) {
                    profileToDelete = id;
                    deleteModal.style.display = 'flex';
                }
            });

            addProfileBtn.addEventListener('click', () => showFormView());
            backToListBtn.addEventListener('click', showListView);
            cancelBtn.addEventListener('click', showListView);

            cancelDeleteBtn.addEventListener('click', () => {
                deleteModal.style.display = 'none';
                profileToDelete = null;
            });

            confirmDeleteBtn.addEventListener('click', () => {
                if (profileToDelete) {
                    let profiles = getProfiles();
                    profiles = profiles.filter(p => p.id !== profileToDelete);
                    saveProfiles(profiles);
                    profileToDelete = null;
                    showListView();
                }
            });

            // Initial load
            showListView();
        });
    </script>
</body>
</html>

